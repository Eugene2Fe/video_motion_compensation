### Русский

## Стабилизация движения на видео

Проект предтавляет собою реализацию алгоритма стабилизации видеокадров видео с использованием методов обработки изображений и анализа движений в кадре, с использованием OpenCV. Основная цель — уменьшить эффект дрожания камеры и повысить качество видеоматериала.

## Описание

Данный проект реализует видеостабилизацию с использованием библиотеки OpenCV и других инструментов для обработки видео и изображений. Он анализирует движения в кадре, формирует траекторию движения и корректирует ее в более сглаженном виде, чтобы устранить неприятное колебания и дерганье камеры. Проект может быть полезен для обработки видео с любых устройств, где отсутствует видеостабилизация.

## Основные особенности

* Повышенное качество стабилизации за счет применения сгалиживания по широкому диапозону соседних фреймов
* Поддержка различных форматов видео (MP4, AVI и др.).
* Оптимизировано для работы с видео высокого разрешения.
* Использование библиотек OpenCV

## Устанвока

# Требования

* Операционная система: Linux, Windows, macOS.
* Библиотека OpenCV версии 4 и выше.
* Библиотека OpenCV должна быть собрана с поддержкой FFMPEG (в подвале есть инструкция)
* C++17 или выше.

# Шаги установки
1. Склонируйте и перейдите в репозиторий:

```sh
git clone https://github.com/Eugene2Fe/video_motion_compensation && cd video_motion_compensation
```

2. Соберите проект с помощью CMake:
```sh
mkdir build
cd build
cmake ..
make
```
3. После успешной сборки, вы можете запустить проект, передав путь к видеофайлу:
Обработанное видео будет в той же директории с префиксом '_stabilized'
```sh
./video_stabilization ../data/input_video.mp4
```
4. Для более подробной информации и списка доступных ключей можно вызывать ```--help```


# Инструкция перебсорки OpenCV с FFMPEG
Проверить поддержку ffmpeg можно командой, где 'YES' значит есть поддержка, 'NO' нет.
```sh
python3 -c "import cv2; print(cv2.getBuildInformation())" | grep FFMPEG
```
# Если вывело NO, то выполняем переустановку
```sh
sudo apt-get update
sudo apt-get install ffmpeg libavcodec-dev libavformat-dev libavutil-dev
git clone https://github.com/opencv/opencv.git
cd opencv
mkdir build
cd build
cmake -D WITH_FFMPEG=ON ..
make -j$(nproc)
sudo make install
```
Повторно проверить поддержку ffmpeg можно командой, где 'YES' значит есть поддержка, 'NO' нет.
```sh
python3 -c "import cv2; print(cv2.getBuildInformation())" | grep FFMPEG
```